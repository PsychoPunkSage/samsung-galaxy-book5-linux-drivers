# HiFi profile for Samsung Galaxy Book5 Pro (940XHA)
# Codec: Realtek ALC298
# Speaker: NID 0x17, Headphone: NID 0x21, Mic: NID 0x18, DMIC: dev6

Syntax 6

SectionVerb {
	EnableSequence [
		disdevall ""
	]
	Value.TQ "HiFi"
}

SectionDevice."Speaker" {
	Comment "Internal Speakers"

	EnableSequence [
		cset "name='Speaker Playback Switch' on"
	]

	DisableSequence [
		cset "name='Speaker Playback Switch' off"
	]

	Value {
		PlaybackPriority 100
		PlaybackPCM "hw:${CardId},0"
		PlaybackMixerElem "Speaker"
	}
}

SectionDevice."Headphones" {
	Comment "Headphones"

	EnableSequence [
		cset "name='Headphone Playback Switch' on"
	]

	DisableSequence [
		cset "name='Headphone Playback Switch' off"
	]

	Value {
		PlaybackPriority 200
		PlaybackPCM "hw:${CardId},0"
		PlaybackMixerElem "Headphone"
		JackControl "Headphone Jack"
	}

	ConflictingDevice [
		"Speaker"
	]
}

SectionDevice."Mic" {
	Comment "Internal Digital Microphone"

	EnableSequence [
		cset "name='Dmic0 Capture Switch' on"
	]

	DisableSequence [
		cset "name='Dmic0 Capture Switch' off"
	]

	Value {
		CapturePriority 100
		CapturePCM "hw:${CardId},6"
		CaptureMixerElem "Dmic0"
		CaptureChannels 2
	}
}

SectionDevice."Headset" {
	Comment "Headset Microphone"

	EnableSequence [
		cset "name='Headset Mic Capture Switch' on"
		cset "name='Capture Switch' on"
	]

	DisableSequence [
		cset "name='Headset Mic Capture Switch' off"
		cset "name='Capture Switch' off"
	]

	Value {
		CapturePriority 200
		CapturePCM "hw:${CardId},0"
		CaptureMixerElem "Headset Mic"
		JackControl "Headset Mic Jack"
	}

	ConflictingDevice [
		"Mic"
	]
}

SectionDevice."HDMI1" {
	Comment "HDMI / DisplayPort 1 Output"
	Value {
		PlaybackPriority 300
		PlaybackPCM "hw:${CardId},3"
		JackControl "HDMI/DP,pcm=3 Jack"
	}
}

SectionDevice."HDMI2" {
	Comment "HDMI / DisplayPort 2 Output"
	Value {
		PlaybackPriority 400
		PlaybackPCM "hw:${CardId},4"
		JackControl "HDMI/DP,pcm=4 Jack"
	}
}

SectionDevice."HDMI3" {
	Comment "HDMI / DisplayPort 3 Output"
	Value {
		PlaybackPriority 500
		PlaybackPCM "hw:${CardId},5"
		JackControl "HDMI/DP,pcm=5 Jack"
	}
}

BootSequence [
	cset "name='Auto-Mute Mode' Enabled"
	cset "name='Speaker Playback Switch' on"
	cset "name='Dmic0 Capture Switch' on"
]
